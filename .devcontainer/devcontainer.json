{
	"dockerComposeFile": ["../docker-compose.yaml", "docker-compose.yml"],
	"service": "devcontainer",
	"workspaceFolder": "/workspaces/kokus-recipe-app",
	"features": {
		"ghcr.io/devcontainers/features/nix:1": {
			"multiUser": true,
			"version": "latest",
			"extraNixConfig": "experimental-features = nix-command flakes"
		}
	},
	"containerEnv": {
		"JAVA_HOME": "${containerWorkspaceFolder}/.jdk",
		"PATH": "${containerWorkspaceFolder}/bin/:${PATH}",
		"DB_JDBC_URL": "jdbc:postgresql://db:5432/"
	},
	"onCreateCommand": "WORKSPACE_DIR='${containerWorkspaceFolder}' .devcontainer/on-create.sh",
	"customizations": {
		"vscode": {
			"extensions": ["mkhl.direnv", "jnoortheen.nix-ide"]
		}
	}
}
